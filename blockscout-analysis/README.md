# Blockscout Analysis Skill

An AI agent skill for blockchain data retrieval and analysis across EVM chains using Blockscout infrastructure — MCP server, PRO API, and supporting services (BENS, Metadata, Chainscout, Stats).

## Goal

This skill gives an agent domain expertise to:

- **Analyze** blockchain activity, transactions, addresses, tokens, contracts, and on-chain data directly.
- **Build** scripts, tools, and applications that query blockchain data through Blockscout APIs.

## Key Ideas

**Three data sources** with a priority chain: MCP Server (LLM-friendly, enriched, no auth) → PRO API (full coverage, 50-item pages, auth required) → Supporting Services (ENS, tags, stats, cross-chain). The agent selects the best source based on the task.

**Execution strategies**: direct tool calls for simple lookups, scripts for deterministic multi-step flows, hybrid approaches for retrieval + computation, and LLM reasoning for tasks requiring semantic understanding. Many real tasks combine strategies.

**Tool equivalence groups**: multiple API surfaces often answer the same question. The skill defines which tool to prefer and when to deviate, preventing redundant calls.

**Swagger and MCP tools caching**: large API documentation (swagger files up to 10,000+ lines) is cached locally and indexed for fast, context-efficient endpoint discovery via grep-friendly index files.

## Directory Structure

```
blockscout-analysis/
├── SKILL.md                    # Agent entry point — decision tables, workflow summary
├── docs/
│   ├── mcp-server.md           # MCP Server data source reference
│   ├── pro-api.md              # PRO API data source reference
│   ├── supporting-services.md  # BENS, Metadata, Chainscout, Stats
│   ├── execution-strategies.md # Strategy selection guidance
│   ├── tool-equivalence-groups.md # Tool disambiguation matrix
│   ├── workflow.md             # 6-phase analysis workflow
│   ├── swagger-cache-guide.md  # Swagger caching system usage
│   └── mcp-tools-cache-guide.md # MCP tools cache usage
├── scripts/
│   ├── fetch-swagger.sh        # Download swagger files with freshness check
│   ├── index-swagger.py        # Build swagger endpoint indices
│   ├── fetch-mcp-tools.sh      # Download MCP tools list
│   └── index-mcp-tools.py      # Build MCP tools index
├── cache/                      # Generated by scripts (gitignored)
└── artifacts/                  # Ad-hoc agent scripts at runtime (gitignored)
```

The agent reads `SKILL.md` as the entry point, then loads `docs/` files on demand based on the task. `scripts/` contains deterministic tooling for caching. `artifacts/` holds agent-generated scripts during task execution.

## Configuration

- **PRO API key** (optional, for PRO API access): Register at [dev.blockscout.com](https://dev.blockscout.com), set `$BLOCKSCOUT_API_KEY` in your environment.
- **MCP server** (optional, for native MCP tool calls): Add `https://mcp.blockscout.com/mcp` to your agent's MCP configuration. The REST API (`https://mcp.blockscout.com/v1/`) works without MCP configuration.

## License

See repository root [LICENSE](../LICENSE).
